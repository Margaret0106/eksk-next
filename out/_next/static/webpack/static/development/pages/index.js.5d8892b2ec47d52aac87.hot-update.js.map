{"version":3,"file":"static/webpack/static/development/pages/index.js.5d8892b2ec47d52aac87.hot-update.js","sources":["webpack:///./app/pages/MainPage/AddKsk.js"],"sourcesContent":["import React, {Component} from 'react';\nimport Icons from '../../components/Icons';\nimport classnames from 'classnames'\nimport 'isomorphic-fetch'\n\nimport _ from 'lodash'\n\nclass AddKsk extends Component {\n    constructor(props) {\n        super(props);  \n        this.state = {\n            formData: {}\n        }        \n    }   \n    _handleChange = (event) => {\n        const {formData} = this.state;\n            this.setState({\n                formData: {\n                    ...formData,\n                    [event.target.getAttribute('name')]: event.target.value\n                }          \n            },\n            function() {\n              console.log('onchange', this.state.formData)\n            }\n          )\n      }\n\n        // e.preventDefault()\n        // const formData = new FormData(e.target)\n        // console.log('data', formData)\n\n        // fetch(`http://dev.e-kck.kz/api/v1/landing/search`, {\n        // method: 'get',\n        // headers: {\n        //     'Accept': 'application/json, text/plain, */*',\n        //     'Content-Type': 'application/json'\n        // },\n        // body: JSON.stringify(data)\n        // }).then((res) => {\n        // res.status === 200 ? this.setState({ submitted: true }) : ''\n        // })\n    \n      _handleSubmit = (event) => {\n        event.preventDefault(); \n        const formData = this.state.formData   \n        console.log('formData', JSON.stringify(formData))        \n        fetch(`http://eksk-landing.rocketfirm.net/en/api/v1/feedback/create`, {\n          method: 'POST',      \n          headers: {        \n            'Authorization': 'Bearer GZavaFROL7WLxUEISqQRv-9_9XHfG01N',           \n            'Content-Type': 'application/x-www-form-urlencoded'                   \n          },          \n        //   body: JSON.stringify(formData)\n            body: {\"email\":\"dsfdsfdsf@mail.ru\",\"city\":\"авпвапв\",\"street\":\"Курмангазы\"}\n        }).then((res) => res.json()).then((data) => {\n          console.log('data', data);           \n        })\n      }; \n     \n    render() {  \n        return (\n            <section className=\"section section6\">\n                <div className=\"container\">\n                <div className=\"feedback-content\">\n                    <div className=\"section-left\">\n                    <h2>Сделайте свою <br/> жизнь проще </h2>\n                    <p>С приложением станет горазде легче решать бытовые проблемы</p>\n                    <div className=\"download-apps\">\n                        <p>Скачайте приложение, оно бесплатное</p>\n                        <div className=\"app-links\">\n                        <a href=\"\" className=\"app-link\">\n                            {Icons('apple')}  App Store\n                        </a>\n                        <a href=\"\" className=\"app-link\">\n                            {Icons('google')} Google Play\n                        </a>\n                        </div>\n                    </div>\n                    </div>\n                    <div className=\"section-right\">\n                    <h2>Напишите нам, если вашего <br/> КСК нет в базе </h2>\n                    <form className=\"form-transparent form-flex\" onSubmit={ this._handleSubmit }>\n                        <div className=\"form-group form-group--half\">\n                        <input onChange={this._handleChange} type=\"text\" name=\"email\" className=\"form-control\" placeholder=\"Почта\"/>\n                        </div>\n                        <div className=\"form-group form-group--half\">\n                        <input onChange={this._handleChange} type=\"text\" name=\"city\" className=\"form-control\" placeholder=\"Город\"/>\n                        </div>\n                        <div className=\"form-group\">\n                        <input onChange={this._handleChange} type=\"text\" name=\"street\" className=\"form-control\" placeholder=\"Улица\"/>\n                        </div>\n                        <button type=\"submit\" className=\"btn btn--transparent\">Отправить заявку {Icons('arrow')} </button>\n                    </form>\n                    </div>\n                </div>\n                </div>\n            </section>\n        )\n    }\n}\n\nexport default AddKsk"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAMA;AACA;AACA;AACA;AADA;AAOA;AACA;AAEA;AACA;AAnBA;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAPA;AAQA;AAAA;AACA;AACA;AACA;AACA;AAjDA;AACA;AADA;AAFA;AAKA;AACA;;;AA8CA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAMA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAOA;;;;AA5FA;AACA;AA8FA;;;;A","sourceRoot":""}